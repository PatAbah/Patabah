new class{constructor(){this.zone=document.getElementById("notificationZone"),this.checkNotifications()}async checkNotifications(){try{const t=await fetch("/ajax/notifications/check"),i=await t.json();i.success&&i.notifications.length>0&&this.showNotifications(i.notifications)}catch(t){console.error("Notification check failed:",t)}}showNotifications(t){const i=t.map(t=>t.message).join(" | ");this.zone.innerHTML=` <div class="notification-content"> <div class="notification-message">${this.escapeHtml(i)}</div> <button class="notification-ok" onclick="notificationSystem.markAsSeen()">OK</button> </div> `,this.zone.style.display="block"}async markAsSeen(){try{await fetch("/ajax/notifications/mark-seen",{method:"POST"}),this.zone.style.display="none"}catch(t){console.error("Mark seen failed:",t)}}escapeHtml(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}};